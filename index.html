<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Baccarat SS Machine Simulator</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  input, button { margin: 5px; padding: 5px; }
  #deckList { margin-top: 10px; }
</style>
</head>
<body>
<h1>Baccarat SS Machine Simulator</h1>
<label>Enter dealt cards (comma separated, e.g., A,2,3,4,5):</label><br>
<input type="text" id="dealtCards" size="50">
<button onclick="loadDeck()">Load Deck</button><br>
<button onclick="shuffleDeck()">Shuffle (Cut + One Riffle, face-side down)</button>
<button onclick="dealCard()">Deal Next Card from SS Machine</button>
<h2>Deck Info:</h2>
<div id="deckList">Deck is empty.</div>
<h2>Next Card from SS Machine (face-side up):</h2>
<div id="nextCard">-</div>
<h2>Card Probabilities:</h2>
<div id="probabilities">-</div>
<script>
let deck = [];function loadDeck() { const input = document.getElementById('dealtCards').value; if(!input) { alert('Please enter cards'); return; } deck = input.split(',').map(c => c.trim()); document.getElementById('deckList').innerText = 'Current deck: ' + deck.join(', '); document.getElementById('nextCard').innerText = '-'; updateProbabilities(); }

function shuffleDeck() { if(deck.length < 2) { alert('Need at least 2 cards to shuffle'); return; }

// Cut in middle
let mid = Math.floor(deck.length / 2);
let firstHalf = deck.slice(0, mid);
let secondHalf = deck.slice(mid);

// Riffle shuffle starting from bottom half first (simulates face-side down interleave)
let shuffled = [];
let i = 0;
while(i < firstHalf.length || i < secondHalf.length) {
    // Introduce small randomness to simulate imperfect shuffle
    if(i < secondHalf.length) shuffled.push(secondHalf[i]);
    if(i < firstHalf.length) shuffled.push(firstHalf[i]);
    i++;
}

deck = shuffled;

document.getElementById('deckList').innerText = 'Shuffled deck (now face-side up in machine): ' + deck.join(', ');
document.getElementById('nextCard').innerText = deck[0];
updateProbabilities();

}

function dealCard() { if(deck.length === 0) { alert('Deck is empty'); return; } let next = deck.shift(); document.getElementById('nextCard').innerText = next; document.getElementById('deckList').innerText = 'Remaining deck: ' + deck.join(', '); updateProbabilities(); }

function updateProbabilities() { if(deck.length === 0) { document.getElementById('probabilities').innerText = '-'; return; } let counts = {}; deck.forEach(card => { counts[card] = (counts[card] || 0) + 1; }); let probs = []; for(let card in counts) { let percent = ((counts[card]/deck.length)*100).toFixed(1); probs.push(${card}: ${percent}%); } document.getElementById('probabilities').innerText = probs.join(', '); } </script>

</body>
</html>
